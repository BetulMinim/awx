plugin: azure.azcollection.azure_rm
default_host_filters:
- location in ['eastUS2']
auth_source: auto
plain_host_names: yes
filters:
  tag:description: awx-test
include_vm_resource_groups:
  - Anthony_test
# exclude_host_filters:
# - powerstate != 'running'
conditional_groups:
  # since this will be true for every host, every host sourced from this inventory plugin config will be in the
  # group 'all_the_hosts'
  all_the_hosts: true
  # if the VM's "name" variable contains "dbserver", it will be placed in the 'db_hosts' group
  awx_hosts: "'awx' in name"
keyed_groups:
- prefix: awx_
  key: tags['description']
hostvar_expressions:
  ansible_host: private_ipv4_addresses | first
compose:
  ansible_user: "'betul'"